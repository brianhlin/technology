
<!doctype html>
<html lang="en" class="no-js">
  <head>
    

      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://opensciencegrid.org/technology/release/cut-sw-release/">
      
      
      <link rel="shortcut icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.4">
    
    
      
        <title>How to Cut a Release - OSG Technology Area</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.358818c7.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.f0267088.min.css">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#how-to-cut-a-software-release" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://opensciencegrid.org/technology/" title="OSG Technology Area" class="md-header-nav__button md-logo" aria-label="OSG Technology Area">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            OSG Technology Area
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              How to Cut a Release
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/opensciencegrid/technology/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://opensciencegrid.org/technology/" title="OSG Technology Area" class="md-nav__button md-logo" aria-label="OSG Technology Area">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    OSG Technology Area
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/opensciencegrid/technology/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Software
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Software" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon"></span>
        Software
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-1" type="checkbox" id="nav-2-1">
    
    <label class="md-nav__link" for="nav-2-1">
      Packaging
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Packaging" data-md-level="2">
      <label class="md-nav__title" for="nav-2-1">
        <span class="md-nav__icon md-icon"></span>
        Packaging
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../software/rpm-development-guide/" class="md-nav__link">
      RPM Development Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../software/osg-build-tools/" class="md-nav__link">
      OSG Build Tools
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../software/quilt/" class="md-nav__link">
      Using Quilt
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../software/upcoming-to-main/" class="md-nav__link">
      Upcoming to Main
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../software/koji-workflow/" class="md-nav__link">
      Koji Workflow
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../software/create-vo-client/" class="md-nav__link">
      Creating the VO Client Package
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../software/container-development-guide/" class="md-nav__link">
      Container Development Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../software/repository-management/" class="md-nav__link">
      Repository Management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../software/globus-mass-update-procedure/" class="md-nav__link">
      Globus Mass Update Procedure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../software/resurrecting-epel-packages/" class="md-nav__link">
      Resurrecting Epel Packages
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../software/koji-mass-rebuilds/" class="md-nav__link">
      Koji Mass Rebuilds
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-2" type="checkbox" id="nav-2-2">
    
    <label class="md-nav__link" for="nav-2-2">
      Development
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Development" data-md-level="2">
      <label class="md-nav__title" for="nav-2-2">
        <span class="md-nav__icon md-icon"></span>
        Development
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../software/development-process/" class="md-nav__link">
      Development Process
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../software/git-software-development/" class="md-nav__link">
      Git Software Development Process
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../software/ce-test-scaling/" class="md-nav__link">
      CE Scale Testing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../software/ipv6-testing/" class="md-nav__link">
      IPv6 Testing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../software/requesting-tokens/" class="md-nav__link">
      How to Request Tokens
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policy/software-support/" class="md-nav__link">
      Software Support
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../software/effort-tracking/" class="md-nav__link">
      Effort Tracking
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../software/release-planning/" class="md-nav__link">
      Release Planning
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../software/new-team-member/" class="md-nav__link">
      New Team Member
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Release
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Release" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        Release
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        How to Cut a Release
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      How to Cut a Release
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#requirements" class="md-nav__link">
    Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pick-the-version-number" class="md-nav__link">
    Pick the Version Number
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#day-0-generate-preliminary-release-list" class="md-nav__link">
    Day 0: Generate Preliminary Release List
  </a>
  
    <nav class="md-nav" aria-label="Day 0: Generate Preliminary Release List">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-update-the-osg-version-rpm-34-only" class="md-nav__link">
    Step 1: Update the osg-version RPM (3.4 only)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-promote-osg-version-34-only-and-generate-the-release-list" class="md-nav__link">
    Step 2: Promote osg-version (3.4 only) and generate the release list
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#day-1-verify-pre-release-and-generate-tarballs" class="md-nav__link">
    Day 1: Verify Pre-Release and Generate Tarballs
  </a>
  
    <nav class="md-nav" aria-label="Day 1: Verify Pre-Release and Generate Tarballs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-verify-pre-release" class="md-nav__link">
    Step 1: Verify Pre-Release
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-test-pre-release-in-vm-universe" class="md-nav__link">
    Step 2: Test Pre-Release in VM Universe
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-test-pre-release-on-the-madison-itb-site" class="md-nav__link">
    Step 3: Test Pre-Release on the Madison ITB site
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-regenerate-the-build-repositories" class="md-nav__link">
    Step 4: Regenerate the build repositories
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-create-the-client-tarballs" class="md-nav__link">
    Step 5: Create the client tarballs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-6-briefly-test-the-client-tarballs" class="md-nav__link">
    Step 6: Briefly test the client tarballs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-7-update-the-uw-afs-installation-of-the-tarball-client" class="md-nav__link">
    Step 7: Update the UW AFS installation of the tarball client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-8-wait" class="md-nav__link">
    Step 8: Wait
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#day-2-pushing-the-release" class="md-nav__link">
    Day 2: Pushing the Release
  </a>
  
    <nav class="md-nav" aria-label="Day 2: Pushing the Release">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-push-from-pre-release-to-release" class="md-nav__link">
    Step 1: Push from pre-release to release
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-generate-the-release-notes" class="md-nav__link">
    Step 2: Generate the release notes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-upload-the-client-tarballs" class="md-nav__link">
    Step 3: Upload the client tarballs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-install-the-tarballs-into-oasis" class="md-nav__link">
    Step 4: Install the tarballs into OASIS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-remove-old-uw-afs-installations-of-the-tarball-client" class="md-nav__link">
    Step 5: Remove old UW AFS installations of the tarball client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-6-update-the-docker-wn-client" class="md-nav__link">
    Step 6: Update the Docker WN client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-7-verify-the-vo-package-andor-ca-certificates" class="md-nav__link">
    Step 7: Verify the VO Package and/or CA certificates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-8-merge-any-pending-documentation" class="md-nav__link">
    Step 8: Merge any pending documentation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-9-make-release-note-pages" class="md-nav__link">
    Step 9: Make release note pages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-9-announce-the-release" class="md-nav__link">
    Step 9: Announce the release
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#day-3-update-the-itb" class="md-nav__link">
    Day 3: Update the ITB
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cut-data-release/" class="md-nav__link">
      How to Cut a Data Release
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../announce-rft-packages/" class="md-nav__link">
      Ready for Testing Announcements
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../new-release-series/" class="md-nav__link">
      New Release Series
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../old-release-removal/" class="md-nav__link">
      Old Release Series Removal
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../itb-testing/" class="md-nav__link">
      ITB Prerelease Testing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../empty-pkgs/" class="md-nav__link">
      Empty Packages
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../acceptance-testing/" class="md-nav__link">
      Acceptance Testing
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Policy
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Policy" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon"></span>
        Policy
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../policy/gridftp-gsi-migration/" class="md-nav__link">
      GridFTP and GSI Migration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policy/campus-cyberinfrastructure/" class="md-nav__link">
      Campus Cyberinfrastructure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policy/cream-support/" class="md-nav__link">
      CREAM-CE Support
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policy/release-series/" class="md-nav__link">
      Release Series Support
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policy/globus-toolkit/" class="md-nav__link">
      Globus Toolkit Support
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policy/external-oasis-repos/" class="md-nav__link">
      OASIS Repository Mirroring
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policy/flexible-release-model/" class="md-nav__link">
      Flexible Release Model
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policy/software-release/" class="md-nav__link">
      Software Release Policy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policy/container-release/" class="md-nav__link">
      Container Release Policy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policy/community-testing/" class="md-nav__link">
      Community Testing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policy/comanage-instructions-user/" class="md-nav__link">
      Registering with the OSG
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policy/comanage-instructions-admin/" class="md-nav__link">
      Approving COManage Registrations
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Documentation
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Documentation" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon"></span>
        Documentation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../documentation/writing-documentation/" class="md-nav__link">
      Writing Documentation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../documentation/reviewing-documentation/" class="md-nav__link">
      Reviewing Documentation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../documentation/style-guide/" class="md-nav__link">
      Markdown Style Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../documentation/new-doc-area/" class="md-nav__link">
      Creating a New Area
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Historical Transitions
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Historical Transitions" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon"></span>
        Historical Transitions
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../policy/service-migrations-spring-2018/" class="md-nav__link">
      Service Migrations - Spring 2018
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policy/gums-retire/" class="md-nav__link">
      GUMS Retirement
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policy/bestman2-retire/" class="md-nav__link">
      BeStMan2 Retirement
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policy/voms-admin-retire/" class="md-nav__link">
      VOMS Admin Retirement
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/sha2-support/" class="md-nav__link">
      SHA-2 Support
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../documentation/markdown-migration/" class="md-nav__link">
      Migrating Documents to Markdown
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Meetings
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Meetings" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon"></span>
        Meetings
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20201109/" class="md-nav__link">
      November 9, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20201102/" class="md-nav__link">
      November 2, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20201026/" class="md-nav__link">
      October 26, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20201019/" class="md-nav__link">
      October 19, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20201012/" class="md-nav__link">
      October 12, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20201005/" class="md-nav__link">
      October 5, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200928/" class="md-nav__link">
      September 28, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200914/" class="md-nav__link">
      September 14, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200824/" class="md-nav__link">
      August 24, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200817/" class="md-nav__link">
      August 17, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200810/" class="md-nav__link">
      August 10, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200803/" class="md-nav__link">
      August 3, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200727/" class="md-nav__link">
      July 27, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200720/" class="md-nav__link">
      July 20, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200713/" class="md-nav__link">
      July 13, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200706/" class="md-nav__link">
      July 6, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200629/" class="md-nav__link">
      June 29, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200622/" class="md-nav__link">
      June 22, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200615/" class="md-nav__link">
      June 15, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200608/" class="md-nav__link">
      June 8, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200601/" class="md-nav__link">
      June 1, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200518/" class="md-nav__link">
      May 18, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200511/" class="md-nav__link">
      May 11, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200504/" class="md-nav__link">
      May 4, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200427/" class="md-nav__link">
      April 27, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200420/" class="md-nav__link">
      April 20, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200413/" class="md-nav__link">
      April 13, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200406/" class="md-nav__link">
      April 6, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200330/" class="md-nav__link">
      March 30, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200323/" class="md-nav__link">
      March 23, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200316/" class="md-nav__link">
      March 16, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200309/" class="md-nav__link">
      March 9, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200302/" class="md-nav__link">
      March 2, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200224/" class="md-nav__link">
      February 24, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200217/" class="md-nav__link">
      February 17, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200210/" class="md-nav__link">
      February 10, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200203/" class="md-nav__link">
      February 3, 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200127/" class="md-nav__link">
      January, 27 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200113/" class="md-nav__link">
      January, 13 2020
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../meetings/2020/TechArea20200106/" class="md-nav__link">
      January, 6 2020
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#requirements" class="md-nav__link">
    Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pick-the-version-number" class="md-nav__link">
    Pick the Version Number
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#day-0-generate-preliminary-release-list" class="md-nav__link">
    Day 0: Generate Preliminary Release List
  </a>
  
    <nav class="md-nav" aria-label="Day 0: Generate Preliminary Release List">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-update-the-osg-version-rpm-34-only" class="md-nav__link">
    Step 1: Update the osg-version RPM (3.4 only)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-promote-osg-version-34-only-and-generate-the-release-list" class="md-nav__link">
    Step 2: Promote osg-version (3.4 only) and generate the release list
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#day-1-verify-pre-release-and-generate-tarballs" class="md-nav__link">
    Day 1: Verify Pre-Release and Generate Tarballs
  </a>
  
    <nav class="md-nav" aria-label="Day 1: Verify Pre-Release and Generate Tarballs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-verify-pre-release" class="md-nav__link">
    Step 1: Verify Pre-Release
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-test-pre-release-in-vm-universe" class="md-nav__link">
    Step 2: Test Pre-Release in VM Universe
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-test-pre-release-on-the-madison-itb-site" class="md-nav__link">
    Step 3: Test Pre-Release on the Madison ITB site
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-regenerate-the-build-repositories" class="md-nav__link">
    Step 4: Regenerate the build repositories
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-create-the-client-tarballs" class="md-nav__link">
    Step 5: Create the client tarballs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-6-briefly-test-the-client-tarballs" class="md-nav__link">
    Step 6: Briefly test the client tarballs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-7-update-the-uw-afs-installation-of-the-tarball-client" class="md-nav__link">
    Step 7: Update the UW AFS installation of the tarball client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-8-wait" class="md-nav__link">
    Step 8: Wait
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#day-2-pushing-the-release" class="md-nav__link">
    Day 2: Pushing the Release
  </a>
  
    <nav class="md-nav" aria-label="Day 2: Pushing the Release">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-push-from-pre-release-to-release" class="md-nav__link">
    Step 1: Push from pre-release to release
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-generate-the-release-notes" class="md-nav__link">
    Step 2: Generate the release notes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-upload-the-client-tarballs" class="md-nav__link">
    Step 3: Upload the client tarballs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-install-the-tarballs-into-oasis" class="md-nav__link">
    Step 4: Install the tarballs into OASIS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-remove-old-uw-afs-installations-of-the-tarball-client" class="md-nav__link">
    Step 5: Remove old UW AFS installations of the tarball client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-6-update-the-docker-wn-client" class="md-nav__link">
    Step 6: Update the Docker WN client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-7-verify-the-vo-package-andor-ca-certificates" class="md-nav__link">
    Step 7: Verify the VO Package and/or CA certificates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-8-merge-any-pending-documentation" class="md-nav__link">
    Step 8: Merge any pending documentation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-9-make-release-note-pages" class="md-nav__link">
    Step 9: Make release note pages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-9-announce-the-release" class="md-nav__link">
    Step 9: Announce the release
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#day-3-update-the-itb" class="md-nav__link">
    Day 3: Update the ITB
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/opensciencegrid/technology/edit/master/docs/release/cut-sw-release.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are performing a data release, please follow the instructions <a href="../cut-data-release/">here</a></p>
</div>
<h1 id="how-to-cut-a-software-release">How to Cut a Software Release<a class="headerlink" href="#how-to-cut-a-software-release" title="Permanent link">&para;</a></h1>
<p>This document details the process for releasing new OSG Release version(s).
This document does NOT discuss the policy for deciding what goes into a release, which can be found
<a href="../../policy/software-release/">here</a>.</p>
<p>Due to the length of time that this process takes, it is recommended to do the release over three or more days to allow for errors to be corrected and tests to be run.</p>
<h2 id="requirements">Requirements<a class="headerlink" href="#requirements" title="Permanent link">&para;</a></h2>
<ul>
<li>User certificate registered with OSG's koji with build and release team privileges</li>
<li>An account on UW CS machines (e.g. <code>moria</code>) to access UW's AFS</li>
<li><code>release-tools</code> scripts in your <code>PATH</code> (<a href="https://github.com/opensciencegrid/release-tools">GitHub</a>)</li>
<li><code>osg-build</code> scripts in your <code>PATH</code> (installed via OSG yum repos or <a href="https://github.com/opensciencegrid/osg-build">source</a>)</li>
<li>Access to the tarball repository at UNL (osgcollab@repo.opensciencegrid.org)</li>
</ul>
<h2 id="pick-the-version-number">Pick the Version Number<a class="headerlink" href="#pick-the-version-number" title="Permanent link">&para;</a></h2>
<p>The rest of this document makes references to <code>&lt;VERSION(S)&gt;</code> and <code>&lt;NON-UPCOMING VERSIONS(S)&gt;</code>, which refer to a space-delimited list of OSG version(s) and that same list minus <code>upcoming</code> (e.g. <code>3.3.28 3.4.3 upcoming</code> and <code>3.3.28 3.4.3</code>). If you are unsure about either the version or revision, please consult the release manager.</p>
<h2 id="day-0-generate-preliminary-release-list">Day 0: Generate Preliminary Release List<a class="headerlink" href="#day-0-generate-preliminary-release-list" title="Permanent link">&para;</a></h2>
<p>The release manager often needs a tentative list of packages to be released. This is done by finding the package differences between osg-testing and the current release.</p>
<h3 id="step-1-update-the-osg-version-rpm-34-only">Step 1: Update the osg-version RPM (3.4 only)<a class="headerlink" href="#step-1-update-the-osg-version-rpm-34-only" title="Permanent link">&para;</a></h3>
<p>For each 3.4 release, update the version number in the osg-version RPM's spec file and build it in koji:</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Build OSG 3.4&#39;s osg-version package</span>
osg-build koji --repo<span class="o">=</span><span class="m">3</span>.4 osg-version
</code></pre></div>

<h3 id="step-2-promote-osg-version-34-only-and-generate-the-release-list">Step 2: Promote osg-version (3.4 only) and generate the release list<a class="headerlink" href="#step-2-promote-osg-version-34-only-and-generate-the-release-list" title="Permanent link">&para;</a></h3>
<p>Run <code>0-generate-pkg-list</code> from a machine that has your koji-registered user certificate:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">VERSIONS</span><span class="o">=</span><span class="s2">&quot;&lt;VERSION(S)&gt;&quot;</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code>git clone https://github.com/opensciencegrid/release-tools.git
<span class="nb">cd</span> release-tools
<span class="m">0</span>-generate-pkg-list <span class="nv">$VERSIONS</span>
</code></pre></div>

<h2 id="day-1-verify-pre-release-and-generate-tarballs">Day 1: Verify Pre-Release and Generate Tarballs<a class="headerlink" href="#day-1-verify-pre-release-and-generate-tarballs" title="Permanent link">&para;</a></h2>
<p>This section is to be performed 1-2 days before the release (as designated by the release manager) to perform last checks of the release and create the client tarballs.</p>
<h3 id="step-1-verify-pre-release">Step 1: Verify Pre-Release<a class="headerlink" href="#step-1-verify-pre-release" title="Permanent link">&para;</a></h3>
<p>Compare the list of packages already in pre-release to the final list for the release put together by the OSG Release Coordinator (who should have updated <code>release-list</code> in git). To do this, run the <code>1-verify-prerelease</code> script from git:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">VERSIONS</span><span class="o">=</span><span class="s2">&quot;&lt;VERSION(S)&gt;&quot;</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="m">1</span>-verify-prerelease <span class="nv">$VERSIONS</span>
</code></pre></div>

<p>If there are any discrepancies, consult the release manager. You may have to tag or untag packages with the <code>osg-koji</code> tool.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Verify that if there is a new version of the <code>osg-tested-internal</code> RPM, then it is included in the release as well!
For 3.4 releases, also verify that the <code>osg-version</code> RPM is in your set of packages for the release!</p>
</div>
<h3 id="step-2-test-pre-release-in-vm-universe">Step 2: Test Pre-Release in VM Universe<a class="headerlink" href="#step-2-test-pre-release-in-vm-universe" title="Permanent link">&para;</a></h3>
<p>To test pre-release, you will be kicking off a manual VM universe test run from <code>osg-sw-submit.chtc.wisc.edu</code>.</p>
<ol>
<li>Ensure that you meet the <a href="https://github.com/opensciencegrid/vm-test-runs">pre-requisites</a> for submitting VM universe test runs</li>
<li>
<p>Prepare the test suite by running:</p>
<div class="codehilite"><pre><span></span><code>osg-run-tests -P &#39;Testing OSG pre-release&#39;
</code></pre></div>

</li>
<li>
<p><code>cd</code> into the directory specified in the output of the previous command</p>
</li>
<li>Submit the DAG:<div class="codehilite"><pre><span></span><code>./master-run.sh
</code></pre></div>

</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Test upcoming even though nothing will be released into upcoming. It is possible that a blahp (or some other) update in 3.X could affect upcoming.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If there are failures, consult the release-manager before proceeding.</p>
</div>
<h3 id="step-3-test-pre-release-on-the-madison-itb-site">Step 3: Test Pre-Release on the Madison ITB site<a class="headerlink" href="#step-3-test-pre-release-on-the-madison-itb-site" title="Permanent link">&para;</a></h3>
<p>Test the pre-release on the Madison ITB by following the <a href="../itb-testing/">ITB pre-release testing instructions</a>.
If you not local to Madison, consult the release manager for the designated person to do this testing.</p>
<h3 id="step-4-regenerate-the-build-repositories">Step 4: Regenerate the build repositories<a class="headerlink" href="#step-4-regenerate-the-build-repositories" title="Permanent link">&para;</a></h3>
<p>To avoid 404 errors when retrieving packages, it's necessary to regenerate the build repositories. Run the following script from a machine with your koji-registered user certificate:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">NON_UPCOMING_VERSIONS</span><span class="o">=</span><span class="s2">&quot;&lt;NON-UPCOMING VERSION(S)&gt;&quot;</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="m">1</span>-regen-repos <span class="nv">$NON_UPCOMING_VERSIONS</span>
</code></pre></div>

<h3 id="step-5-create-the-client-tarballs">Step 5: Create the client tarballs<a class="headerlink" href="#step-5-create-the-client-tarballs" title="Permanent link">&para;</a></h3>
<p>Create the client tarballs as root on an EL7 fermicloud machine using the relevant script from git:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">NON_UPCOMING_VERSIONS</span><span class="o">=</span><span class="s2">&quot;&lt;NON-UPCOMING VERSION(S)&gt;&quot;</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code>git clone https://github.com/opensciencegrid/release-tools.git
<span class="nb">cd</span> release-tools
./1-client-tarballs <span class="nv">$NON_UPCOMING_VERSIONS</span>
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Enter a@a.a for your upload account at first. The script will build the tarballs but not upload them.
Test them in next step and then rerun the script and enter the proper account information.
The script will pick up where it left off and upload the tarballs.</p>
</div>
<h3 id="step-6-briefly-test-the-client-tarballs">Step 6: Briefly test the client tarballs<a class="headerlink" href="#step-6-briefly-test-the-client-tarballs" title="Permanent link">&para;</a></h3>
<p>Copy 1-verify-tarballs into /tmp.
As an <strong>unprivileged user</strong>, run the script:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">NON_UPCOMING_VERSIONS</span><span class="o">=</span><span class="s2">&quot;&lt;NON-UPCOMING VERSION(S)&gt;&quot;</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code>./1-verify-tarballs <span class="nv">$NON_UPCOMING_VERSIONS</span>
</code></pre></div>

<p>If you have time, try some of the binaries, such as grid-proxy-init.</p>
<div class="admonition todo">
<p class="admonition-title">Todo</p>
<p>We need to automate this and have it run on the proper architectures and version of RHEL.</p>
</div>
<h3 id="step-7-update-the-uw-afs-installation-of-the-tarball-client">Step 7: Update the UW AFS installation of the tarball client<a class="headerlink" href="#step-7-update-the-uw-afs-installation-of-the-tarball-client" title="Permanent link">&para;</a></h3>
<p>The UW keeps an install of the tarball client in <code>/p/vdt/workspace/tarball-client</code> on the UW's AFS. To update it, run the following commands:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">NON_UPCOMING_VERSIONS</span><span class="o">=</span><span class="s2">&quot;&lt;NON-UPCOMING VERSION(S)&gt;&quot;</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="k">for</span> ver in <span class="nv">$NON_UPCOMING_VERSIONS</span><span class="p">;</span> <span class="k">do</span>
    /p/vdt/workspace/tarball-client/afs-install-tarball-client <span class="nv">$ver</span>
<span class="k">done</span>
</code></pre></div>

<h3 id="step-8-wait">Step 8: Wait<a class="headerlink" href="#step-8-wait" title="Permanent link">&para;</a></h3>
<p>Wait for clearance. The OSG Release Coordinator (in consultation with the Software Team and any testers) need to sign off on the update before it is released. If you are releasing things over two days, this is a good place to stop for the day.</p>
<h2 id="day-2-pushing-the-release">Day 2: Pushing the Release<a class="headerlink" href="#day-2-pushing-the-release" title="Permanent link">&para;</a></h2>
<h3 id="step-1-push-from-pre-release-to-release">Step 1: Push from pre-release to release<a class="headerlink" href="#step-1-push-from-pre-release-to-release" title="Permanent link">&para;</a></h3>
<p>This script moves the packages into release, clones releases into new version-specific release repos,
locks the repos and regenerates them.</p>
<div class="codehilite"><pre><span></span><code><span class="nv">VERSIONS</span><span class="o">=</span><span class="s2">&quot;&lt;VERSION(S)&gt;&quot;</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="m">2</span>-push-release <span class="nv">$VERSIONS</span>
</code></pre></div>

<h3 id="step-2-generate-the-release-notes">Step 2: Generate the release notes<a class="headerlink" href="#step-2-generate-the-release-notes" title="Permanent link">&para;</a></h3>
<p>This script generates the release notes and updates the release information in AFS.</p>
<div class="codehilite"><pre><span></span><code><span class="nv">VERSIONS</span><span class="o">=</span><span class="s2">&quot;&lt;VERSION(S)&gt;&quot;</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="m">2</span>-make-notes <span class="nv">$VERSIONS</span>
</code></pre></div>

<ol>
<li><code>*.txt</code> files are created and it should be verified that they've been moved to /p/vdt/public/html/release-info/ on UW's AFS.</li>
<li>For each release version, use the <code>*release-note*</code> files to update the relevant sections of the release note pages.</li>
</ol>
<h3 id="step-3-upload-the-client-tarballs">Step 3: Upload the client tarballs<a class="headerlink" href="#step-3-upload-the-client-tarballs" title="Permanent link">&para;</a></h3>
<p>Upload the tarballs to the repository with the following procedure from a UW CS machine (e.g., <code>moria</code>):</p>
<div class="codehilite"><pre><span></span><code><span class="nv">NON_UPCOMING_VERSIONS</span><span class="o">=</span><span class="s2">&quot;&lt;NON-UPCOMING VERSION(S)&gt;&quot;</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code>./2-upload-tarballs <span class="nv">$NON_UPCOMING_VERSIONS</span>
</code></pre></div>

<h3 id="step-4-install-the-tarballs-into-oasis">Step 4: Install the tarballs into OASIS<a class="headerlink" href="#step-4-install-the-tarballs-into-oasis" title="Permanent link">&para;</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You must be an OASIS manager of the <code>mis</code> VO to do these steps. Known managers as of 2014-07-22: Mat, Tim C, Tim T, Brian L. </p>
</div>
<p>Get the uploader script from Git and run it with <code>osgrun</code> from the UW AFS install of the tarball client you made earlier. On a UW CSL machine:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">NON_UPCOMING_VERSIONS</span><span class="o">=</span><span class="s2">&quot;&lt;NON-UPCOMING VERSION(S)&gt;&quot;</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="nb">cd</span> /tmp
git clone --depth <span class="m">1</span> file:///p/vdt/workspace/git/repo/tarball-client.git
<span class="k">for</span> ver in <span class="nv">$NON_UPCOMING_VERSIONS</span><span class="p">;</span> <span class="k">do</span>
    /p/vdt/workspace/tarball-client/current/sys/osgrun /tmp/tarball-client/upload-tarballs-to-oasis <span class="nv">$ver</span>
<span class="k">done</span>
</code></pre></div>

<p>The script will automatically ssh you to oasis-login.opensciencegrid.org and give you instructions to complete the process.</p>
<h3 id="step-5-remove-old-uw-afs-installations-of-the-tarball-client">Step 5: Remove old UW AFS installations of the tarball client<a class="headerlink" href="#step-5-remove-old-uw-afs-installations-of-the-tarball-client" title="Permanent link">&para;</a></h3>
<p>To keep space usage down, remove tarball client installations and symlinks under <code>/p/vdt/workspace/tarball-client</code> on UW's AFS that are more than 2 months old.
To remove them, first check the list:</p>
<div class="codehilite"><pre><span></span><code>find /p/vdt/workspace/tarball-client -maxdepth <span class="m">1</span> -mtime +60 -name <span class="m">3</span><span class="se">\*</span> -ls
</code></pre></div>

<p>Then if the output looks reasonable
(contains at least one installation, but does not contain recent installations),
remove them:</p>
<div class="codehilite"><pre><span></span><code>find /p/vdt/workspace/tarball-client -maxdepth <span class="m">1</span> -mtime +60 -name <span class="m">3</span><span class="se">\*</span> -exec rm -rf <span class="o">{}</span> +
</code></pre></div>

<h3 id="step-6-update-the-docker-wn-client">Step 6: Update the Docker WN client<a class="headerlink" href="#step-6-update-the-docker-wn-client" title="Permanent link">&para;</a></h3>
<p>Update the GitHub repo at <a href="https://github.com/opensciencegrid/docker-osg-wn">opensciencegrid/docker-osg-wn</a> using the <code>update-all</code> script found in <a href="https://github.com/opensciencegrid/docker-osg-wn-scripts">opensciencegrid/docker-osg-wn-scripts</a>. This requires push access to the <code>opensciencegrid/docker-osg-wn</code> repo.</p>
<p>Instructions for using the script:</p>
<div class="codehilite"><pre><span></span><code>git clone git@github.com:opensciencegrid/docker-osg-wn-scripts.git
git clone git@github.com:opensciencegrid/docker-osg-wn.git
docker-osg-wn-scripts/update-all docker-osg-wn
<span class="nb">cd</span> docker-osg-wn
<span class="c1"># Verify everything looks fine and run the &#39;git push&#39; command</span>
<span class="c1"># that &#39;update-all&#39; should have printed</span>
</code></pre></div>

<h3 id="step-7-verify-the-vo-package-andor-ca-certificates">Step 7: Verify the VO Package and/or CA certificates<a class="headerlink" href="#step-7-verify-the-vo-package-andor-ca-certificates" title="Permanent link">&para;</a></h3>
<p>If this release contains either the <code>vo-client</code> or <code>osg-ca-certs</code> package, verify that the CA web site has been updated.
Wait for the <a href="https://repo.opensciencegrid.org/cadist/">CA certificates</a> to be updated.
It may take a while for the updates to reach the mirror used to update the web site.
The repository is checked hourly for updated CA certificates.
Once the web page is updated, run the following command to update the VO Package and/or CA certificates in the tarball installations and
verify that the version of the VO Package and/or CA certificates match the version that was promoted to release.</p>
<div class="codehilite"><pre><span></span><code>/p/vdt/workspace/tarball-client/current/amd64_rhel6/osgrun osg-update-data
/p/vdt/workspace/tarball-client/current/amd64_rhel7/osgrun osg-update-data
</code></pre></div>

<h3 id="step-8-merge-any-pending-documentation">Step 8: Merge any pending documentation<a class="headerlink" href="#step-8-merge-any-pending-documentation" title="Permanent link">&para;</a></h3>
<p>For each documentation ticket in this release, merge the pull requests mentioned in the description or comments.</p>
<h3 id="step-9-make-release-note-pages">Step 9: Make release note pages<a class="headerlink" href="#step-9-make-release-note-pages" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>Copy the release note page from the latest software release of each series and put the new version number in the
    file name. Edit the release number and date.</p>
</li>
<li>
<p>Insert the package and RPM lists generated in Step 2 above.</p>
</li>
<li>
<p>For the list of changes, make an entry for each package that contains short descriptive text that would inform
    a system administrator whether or not this change is of concern to them. Also, link in any release announcement
    web page that is available for the software. Look a prior releases of the same software for hints on where to
    find such a page.</p>
</li>
<li>
<p>Examine the known issues and remove any that were resolved with this release. Of course, add any new ones that
    have come up.</p>
</li>
<li>
<p>Spell check the release note pages.</p>
</li>
<li>
<p>Add the new pages to the release series table in <code>docs/release/notes.md</code>. List the major packages that are
    mentioned in the release announcement.</p>
</li>
<li>
<p>Locally serve up the web pages and ensure that the formatting looks good and the links work as expected.</p>
</li>
<li>
<p>Make a pull request, get it approved, and merged.</p>
</li>
<li>
<p>When the web page is available, you can announce the release.</p>
</li>
</ol>
<h3 id="step-9-announce-the-release">Step 9: Announce the release<a class="headerlink" href="#step-9-announce-the-release" title="Permanent link">&para;</a></h3>
<p>The following instructions are meant for the release manager (or interim release manager). If you are not the release manager, let the release manager know that they can announce the release.</p>
<ol>
<li>
<p>The release manager writes the a release announcement for each version and sends it out.
    The announcement should mention a handful of the most important updates.
    Due to downstream formatting issues, each major change should end at column 76 or earlier.
    Here is a sample, replace <code>&lt;BRACKETED TEXT&gt;</code> with the appropriate values:</p>
<div class="codehilite"><pre><span></span><code>Subject: Announcing OSG Software version &lt;VERSION&gt;

We are pleased to announce OSG Software version &lt;VERSION&gt;!

Changes to OSG &lt;VERSION&gt; include:
- Major Change 1
- Major Change 2
- Major Change 3

Release notes and pointers to more documentation can be found at:

http://www.opensciencegrid.org/docs/release/&lt;SERIES.VERSION&gt;/release-&lt;RELEASE-VERSION&gt;/

The following containers have been tagged as &#39;stable&#39; and are available
at Docker Hub (https://hub.docker.com/r/opensciencegrid/):
- container name 1
- container name 2
- container name 3

Need help? Let us know:

http://www.opensciencegrid.org/docs/common/help/

We welcome feedback on this release!
</code></pre></div>

</li>
<li>
<p>The release manager uses the <a href="https://opensciencegrid.org/operations/services/sending-announcements/">osg-notify tool</a>
    on <code>osg-sw-submit.chtc.wisc.edu</code> to send the release announcement using the following command:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">$</span> osg-notify --cert your-cert.pem --key your-key.pem <span class="se">\</span>
    --no-sign --type production --message &lt;PATH TO MESSAGE FILE&gt; <span class="se">\</span>
    --subject <span class="s1">&#39;&lt;EMAIL SUBJECT&gt;&#39;</span> <span class="se">\</span>
    --recipients <span class="s2">&quot;osg-general@opensciencegrid.org osg-operations@opensciencegrid.org osg-sites@opensciencegrid.org vdt-discuss@opensciencegrid.org&quot;</span> <span class="se">\</span>
    --oim-recipients resources --oim-recipients vos --oim-contact-type administrative
</code></pre></div>

<p>Replacing <code>&lt;EMAIL SUBJECT&gt;</code> with an appropriate subject for your announcement and <code>&lt;PATH TO MESSAGE FILE&gt;</code> with the
path to the file containing your message in plain text.</p>
</li>
<li>
<p>The release manager closes the tickets marked 'Ready for Release' in the release's JIRA filter using the 'bulk change' function.
    Also set the Fix Versions field to the appropriate value(s) and uncheck the box that reads "Send mail for this update"</p>
</li>
</ol>
<h2 id="day-3-update-the-itb">Day 3: Update the ITB<a class="headerlink" href="#day-3-update-the-itb" title="Permanent link">&para;</a></h2>
<p>Now that the release has had a chance to propagate to all the mirrors, update the Madison ITB site by following
the <a href="https://docs.google.com/document/d/11Njz9YMWg67f_TMzcrbdD7anZRIsf9-wiXx-inWhO4U/edit#bookmark=id.4d34og8">yum update section</a> of the Madison ITB document.
If you are not local to Madison, consult the release manager for the designated person to do the update.
Remember to stop the HTCondor and HTCondor-CE daemons according to the <a href="../itb-testing/#installing-htcondor-prerelease">HTCondor pre-release testing instructions</a>.
Those daemons will need to be restarted after the upgrade.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../../software/new-team-member/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                New Team Member
              </div>
            </div>
          </a>
        
        
          <a href="../cut-data-release/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                How to Cut a Data Release
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.7e0ee788.min.js"></script>
      <script src="../../assets/javascripts/bundle.b3a72adc.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>